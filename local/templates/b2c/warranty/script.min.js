(function(){var b=document.querySelector(".authorization__form");var h=document.querySelector("input[name='name']");var d=document.querySelector("label[for='name']");var c=document.querySelector(".authorization__name-error");var i=document.querySelector("input[name='password']");var e=document.querySelector("label[for='password']");var g=document.querySelector(".authorization__password-error");var a=document.querySelector(".authorization__button");if(!h||!i||!a){return}var l={empty:"Обязательное поле",notFound:"Пользователь с такой электронной почтой не зарегистрирован в системе."};var k=false;var j=false;var m=function(){return h.value==="ivanov"};var o=function(){if(h.value.length>0&&i.value.length>0){if(a.hasAttribute("disabled")){a.removeAttribute("disabled")}}if(h.value.length===0||i.value.length===0){if(!a.hasAttribute("disabled")){a.setAttribute("disabled","")}}};var f=function(){k=true;if(!h.classList.contains("js--wrong-input")){h.classList.add("js--wrong-input")}if(!d.classList.contains("js--wrong")){d.classList.add("js--wrong")}c.textContent=l.empty};var q=function(){j=true;if(!i.classList.contains("js--wrong-input")){i.classList.add("js--wrong-input")}if(!e.classList.contains("js--wrong")){e.classList.add("js--wrong")}g.textContent=l.empty};var n=function(s){s.preventDefault();if(h.value===""&&i.value===""){f();q();o();return}if(!m()){h.classList.add("js--wrong-input");d.classList.add("js--wrong");c.textContent=l.notFound}else{b.submit()}};var p=function(){o();if(h.value===""){f()}if(h.value.length>0&&k){k=false;if(h.classList.contains("js--wrong-input")){h.classList.remove("js--wrong-input")}if(d.classList.contains("js--wrong")){d.classList.remove("js--wrong")}c.textContent=""}};var r=function(){o();if(i.value===""){q()}if(i.value.length>0&&j){j=false;if(i.classList.contains("js--wrong-input")){i.classList.remove("js--wrong-input")}if(e.classList.contains("js--wrong")){e.classList.remove("js--wrong")}g.textContent=""}};a.addEventListener("click",n);h.addEventListener("input",p);i.addEventListener("input",r)})();(function(){var g=document.querySelector(".not-used-products__button");var b=document.querySelector(".not-used-products__show");var h=document.querySelector(".not-used-products__hide");var a=document.querySelector(".not-used-products__content");var k=document.querySelector(".account-header__dropdown");var c=document.querySelector(".account-header__nav");var f=document.querySelector(".account-header__nav-button");if(!g){return}var e=function(l){l.classList.toggle("js--shown");l.classList.toggle("js--hidden")};var j=function(){e(b);e(h);a.classList.toggle("js--show")};var d=function(){if(!c.classList.contains("js--show")){c.classList.add("js--show")}};var i=function(){if(c.classList.contains("js--show")){c.classList.remove("js--show")}};g.addEventListener("click",j);k.addEventListener("click",d);f.addEventListener("click",i)})();(function(){var D=document.querySelector(".product-registration");var l=document.querySelectorAll(".product-registration__navigation-item");var c=document.querySelector(".contacts");var j=document.querySelector(".contacts__phone-number");var q=document.querySelector(".contacts__code");var u=document.querySelector("input[name='phone-number']");var r=document.querySelector("input[name='phone-code']");var f=document.querySelector(".contacts__phone-form button");var y=document.querySelector(".contacts__code-form button");var x=document.querySelector(".contacts__phone-form");var n=document.querySelector(".contacts__code-form");var e=document.querySelector(".contacts__product-card .product-card__change");var d=document.querySelector(".contacts__selected-phone");var B=document.querySelector(".contacts__code-error-message");var m=document.querySelector(".contacts__code-form label");var t=document.querySelector(".contacts__selected-phone-change");var h="0000000";var k={first:"Указан неверный код, осталось попыток: 1",second:"Вы превысили количество попыток, следующий запрос кода возможен через 10 минут"};var s=0;if(!u){return}var p=new Inputmask("+7(999)999-99-99");p.mask(u);var g=new Inputmask("9999999",{placeholder:""});g.mask(r);var A=function(E){if(E.classList.contains("hidden")){E.classList.remove("hidden")}};var i=function(E){if(!E.classList.contains("hidden")){E.classList.add("hidden")}};var b=function(){B.textContent="";if(m.classList.contains("js--error")){m.classList.remove("js--error")}if(r.classList.contains("js--wrong-input")){r.classList.remove("js--wrong-input")}};var z=function(){var E=u.value;if(E.length===16&&E.indexOf("_")===-1){f.removeAttribute("disabled")}else{f.setAttribute("disabled","")}};var w=function(){D.classList.remove("js--contacts");D.classList.add("js--product-data");l[0].classList.remove("js--checked");l[1].classList.remove("js--active");A(j);i(q)};var C=function(E){E.preventDefault();d.textContent=u.value;i(j);A(q);r.focus()};var o=function(){i(q);A(j);u.focus()};var a=function(){b();if(r.value.length===7){y.removeAttribute("disabled")}else{y.setAttribute("disabled","")}};var v=function(E){E.preventDefault();if(r.value!==h){if(!m.classList.contains("js--error")){m.classList.add("js--error")}if(!r.classList.contains("js--wrong-input")){r.classList.add("js--wrong-input")}if(s===0){B.textContent=k.first}if(s>0){B.textContent=k.second;y.setAttribute("disabled","")}s++}else{if(D.classList.contains("product-registration--account")){D.classList.add("js--registration-end");D.classList.remove("js--contacts");l[0].classList.add("js--checked");l[1].classList.add("js--active")}else{D.classList.add("js--personal-data");D.classList.remove("js--contacts")}}};u.addEventListener("input",z);e.addEventListener("click",w);x.addEventListener("submit",C);r.addEventListener("input",a);n.addEventListener("submit",v);t.addEventListener("click",o)})();(function(){var l=document.querySelector("body");var x=document.querySelector("input[name='phone-number']");var A=document.querySelector(".product-registration");var m=document.querySelectorAll(".product-registration__navigation-item");var f=document.querySelector(".product-data");var C=document.querySelector(".product-data form");var v=document.querySelector("label[for='serial-number-1'] button");var b=document.querySelector(".popup-warranty");var q=document.querySelector(".popup-warranty__close");var g=document.querySelector(".popup-warranty__overlay");var u=document.querySelector(".product-data__purchase-date");var p=document.querySelector(".product-data__calendar");var t=document.querySelectorAll(".product-data__serial-number");var s=document.querySelector(".product-data__submit");if(!v){return}var d=function(D){return(/^[A-Za-z0-9]{6}/).test(D.value)};var B=function(){return(/^[0-9.]+$/).test(u.value)};var k=function(){if(d(t[0])&&d(t[1])&&d(t[2])&&B()){s.removeAttribute("disabled")}else{s.setAttribute("disabled","")}};var a=function(D){return Math.floor(D/10)>0?D:"0"+D};var j=function(E){var E=new Date(E);var D=E.getDate();var G=E.getMonth()+1;var F=E.getFullYear();return a(D)+"."+a(G)+"."+F};var i=new Pikaday({field:p,firstDay:1,onSelect:function(){var D=new Date(i);u.value=j(D);k()}});var h=new Inputmask("99.99.9999",{placeholder:"ДД.ММ.ГГГГ"});h.mask(u);var z=function(D){var E=D.target;E.setCustomValidity("");if(!d(E)&&E.value.length===6){E.setCustomValidity("Разрешены только латинские буквы и цыфры");E.reportValidity()}if(d(E)&&E.value.length===6){if(E.classList.contains("js--wrong-input")){E.classList.remove("js--wrong-input")}if(E.id==="serial-number-1"||E.id==="serial-number-2"){E.nextSibling.nextSibling.focus()}if(E.id==="serial-number-3"){u.focus()}}else{E.classList.add("js--wrong-input")}k()};var r=function(){k()};var o=function(){b.classList.remove("hidden");l.classList.add("popup")};var n=function(){b.classList.add("hidden");l.classList.remove("popup")};var e=function(){o()};var c=function(){n()};var w=function(){n()};var y=function(D){D.preventDefault();A.classList.add("js--contacts");A.classList.remove("js--product-data");if(!A.classList.contains("product-registration--account")){m[0].classList.add("js--checked");m[1].classList.add("js--active")}x.focus()};v.addEventListener("click",e);q.addEventListener("click",c);g.addEventListener("click",w);t.forEach(function(D){D.addEventListener("input",z)});u.addEventListener("input",r);C.addEventListener("submit",y)}());(function(){var h=document.querySelector(".product-registration");var o=document.querySelectorAll(".product-registration__navigation-item");var b=document.querySelector(".personal-data__form");var p=document.querySelector(".personal-data input[name='surname']");var m=document.querySelector(".personal-data input[name='name']");var a=document.querySelector(".personal-data input[name='patronymic']");var i=document.querySelector(".personal-data input[name='city']");var n=document.querySelector(".personal-data input[name='email']");var f=document.querySelector(".personal-data input[type='checkbox']");var e=document.querySelector(".personal-data__agreement-wrapper label");var l=document.querySelector(".personal-data__text-wrapper");var c=document.querySelector(".personal-data__button");if(!p){return}var k=function(){if(p.validity.valid&&m.validity.valid&&a.validity.valid&&i.validity.valid&&n.validity.valid&&f.checked){c.removeAttribute("disabled")}else{c.setAttribute("disabled","")}};var g=function(q){k();var s=q.target;var r=s.parentNode.querySelector("p");if(!s.validity.valid){if(!r.classList.contains("js--error")){r.classList.add("js--error")}if(!s.classList.contains("js--wrong-input")){s.classList.add("js--wrong-input")}}if(s.validity.valid){if(r.classList.contains("js--error")){r.classList.remove("js--error")}if(s.classList.contains("js--wrong-input")){s.classList.remove("js--wrong-input")}}};var d=function(){k();if(!f.checked){if(!e.classList.contains("js--wrong-input")){e.classList.add("js--wrong-input")}if(!l.classList.contains("js--error")){l.classList.add("js--error")}}if(f.checked){if(e.classList.contains("js--wrong-input")){e.classList.remove("js--wrong-input")}if(l.classList.contains("js--error")){l.classList.remove("js--error")}}};var j=function(q){q.preventDefault();h.classList.remove("js--personal-data");h.classList.add("js--registration-end");o[1].classList.add("js--checked");o[2].classList.add("js--active")};p.addEventListener("input",g);m.addEventListener("input",g);a.addEventListener("input",g);i.addEventListener("input",g);n.addEventListener("input",g);f.addEventListener("change",d);b.addEventListener("submit",j)})();